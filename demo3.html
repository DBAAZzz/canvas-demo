<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Canvas's Demo3</title>
    <style>
        * {
            margin: 0;
            padding: 0;
        }

        #canvas {
            background: red;
        }
    </style>
</head>

<body>
    <canvas id="canvas" width="600" height="600"></canvas>
</body>
<script>
    /** @type {HTMLCanvasElement} */
    let canvas = document.getElementById('canvas')
    let ctx = canvas.getContext('2d')

    var ball = {
        x: 100,
        y: 100,
        vx: 5,
        vy: 2,
        redius: 25,
        color: 'blue',
        draw: function () {
            ctx.beginPath()
            ctx.arc(this.x, this.y, this.redius, 0, Math.PI * 2, true)
            ctx.closePath()
            ctx.fillStyle = this.color;
            ctx.fill()
        }
    }

    function draw() {
        // 清空画布中的所有内容
        ctx.clearRect(0, 0, 600, 600)

        // ctx.fillStyle = 'rgba(255,255,255,0.3)';
        // ctx.fillRect(0, 0, canvas.width, canvas.height);

        ball.draw()

        ball.x += ball.vx
        ball.y += ball.vy

        if (ball.y + ball.vy > canvas.height || ball.y + ball.vy < 0) {
            ball.vy = -ball.vy;
        }
        if (ball.x + ball.vx > canvas.width || ball.x + ball.vx < 0) {
            ball.vx = -ball.vx;
        }
        requestAnimationFrame(draw)

    }
    draw()
</script>

</html>